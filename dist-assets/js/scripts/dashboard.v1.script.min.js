"use strict";

function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);
    if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly)
            symbols = symbols.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object, sym).enumerable;
            });
        keys.push.apply(keys, symbols);
    }
    return keys;
}

function _objectSpread(target) {
    for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
            ownKeys(source, true).forEach(function(key) {
                _defineProperty(target, key, source[key]);
            });
        } else if (Object.getOwnPropertyDescriptors) {
            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
            ownKeys(source).forEach(function(key) {
                Object.defineProperty(
                    target,
                    key,
                    Object.getOwnPropertyDescriptor(source, key)
                );
            });
        }
    }
    return target;
}

function _defineProperty(obj, key, value) {
    if (key in obj) {
        Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true,
        });
    } else {
        obj[key] = value;
    }
    return obj;
}

$(document).ready(function() {

    // ยอดขาย 30 วันล่าสุด in Dashboard version 1
    var echartElemBarx = document.getElementById("eORchartBarx");

    if (echartElemBarx) {
        var echartBarx = echarts.init(echartElemBarx);
        echartBar.setOption({
            legend: {
                borderRadius: 0,
                orient: "horizontal",
                x: "right",
                data: ["ยอดขาย"],
            },
            grid: {
                left: "8px",
                right: "8px",
                bottom: "0",
                containLabel: true,
            },
            tooltip: {
                show: true,
                backgroundColor: "rgba(0, 0, 0, .8)",
            },
            xAxis: [{
                type: "category",
                data: [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                    "6",
                    "7",
                    "8",
                    "9",
                    "10",
                    "11",
                    "12",
                    "13",
                    "14",
                    "15",
                    "16",
                    "17",
                    "18",
                    "19",
                    "20",
                    "21",
                    "22",
                    "23",
                    "24",
                    "25",
                    "26",
                    "27",
                    "28",
                    "29",
                    "30",
                ],
                axisTick: {
                    alignWithLabel: true,
                },
                splitLine: {
                    show: false,
                },
                axisLine: {
                    show: true,
                },
            }, ],
            yAxis: [{
                type: "value",
                axisLabel: {
                    formatter: "฿{value}",
                },
                min: 0,
                max: 400000,
                interval: 25000,
                axisLine: {
                    show: false,
                },
                splitLine: {
                    show: true,
                    interval: "auto",
                },
            }, ],
            series: [{
                name: "ยอดขาย",
                data: [
                    125345,
                    256341,
                    95461,
                    268555,
                    65842,
                    156842,
                    52641,
                    86521,
                    256584,
                    365264,
                    85647,
                    125684,
                    95624,
                    25364,
                    245682,
                    325461,
                    85421,
                    63542,
                    125684,
                    235641,
                    65824,
                    128567,
                    195348,
                    26531,
                    128467,
                    154682,
                    95871,
                    86534,
                    245628,
                    326854,
                ],
                label: {
                    show: false,
                    color: "#0168c1",
                },
                type: "line",
                barGap: 0,
                color: "#8b5cf6",
                smooth: true,
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowOffsetY: -2,
                        shadowColor: "rgba(0, 0, 0, 0.3)",
                    },
                },
            }, ],
        });
        $(window).on("resize", function() {
            setTimeout(function() {
                echartBar.resize();
            }, 500);
        });
    }

    // ยอดขายประจำปี in Dashboard version 1
    var echartElemBarxx = document.getElementById("echartBarxx");

    if (echartElemBarxx) {
        var echartBar = echarts.init(echartElemBarxx);



        echartBar.setOption({

            legend: {
                borderRadius: 0,
                orient: "horizontal",
                x: "right",
                data: ["ยอดขาย", "Online", "Wark-in"],
            },
            grid: {
                left: "8px",
                right: "8px",
                bottom: "0",
                containLabel: true,
            },
            tooltip: {
                show: true,
                backgroundColor: "rgba(0, 0, 0, .8)",
            },
            xAxis: [{
                type: "category",


                data: $.get('get_dashbord.php', function(data) {
                    let result = JSON.parse(data);
                    // sprintf(result);
                    console.log(result);

                }),
                // data: [
                //     "ม.ค.",
                //     "ก.พ.",
                //     "มี.ค.",
                //     "ม.ย.",
                //     "พ.ค.",
                //     "มิ.ย.",
                //     "ก.ค.",
                //     "ส.ค.",
                //     "ก.ย.",
                //     "ต.ค.",
                //     "พ.ย.",
                //     "ธ.ค.",
                // ],

                axisTick: {
                    alignWithLabel: true,
                },
                splitLine: {
                    show: false,
                },
                axisLine: {
                    show: true,
                },
            }, ],

            yAxis: [{
                type: "value",
                axisLabel: {
                    formatter: "฿{value}",
                },
                min: 0,
                max: 3000000,
                interval: 250000,
                axisLine: {
                    show: false,
                },
                splitLine: {
                    show: true,
                    interval: "auto",
                },
            }, ],
            series: [{
                    name: "ยอดขาย",
                    data: [
                        1250000,
                        1300000,
                        1240000,
                        1700000,
                        1640000,
                        2100000,
                        2250000,
                        2150000,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#0168c1",
                    },
                    type: "bar",
                    barGap: 0,
                    color: "#8b5cf6",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
                {
                    name: "Online",
                    data: [
                        1000000,
                        1000000,
                        1000000,
                        1000000,
                        1000000,
                        2000000,
                        2000000,
                        2000000,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#639",
                    },
                    type: "bar",
                    color: "#A78BFA",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
                {
                    name: "Wark-in",
                    data: [
                        250000,
                        300000,
                        240000,
                        700000,
                        640000,
                        100000,
                        250000,
                        150000,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#639",
                    },
                    type: "bar",
                    color: "#DDD6FE",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
            ],
        });
        console.log('xx', echartElemBar);
        $(window).on("resize", function() {
            setTimeout(function() {
                echartBar.resize();
            }, 500);
        });

    }

    // ยอดขายตามประเภทสินค้า type in Dashboard version 1
    var echartElemBarxx = document.getElementById("ProtypechartBarxx");
    if (echartElemBarxx) {
        var echartBar = echarts.init(echartElemBarxx);
        echartBar.setOption({
            legend: {
                borderRadius: 0,
                orient: "horizontal",
                x: "right",
                data: ["แผ่นพื้นสำเร็จรูป", "เสารั้วลวดหนาม", "รั้วคาวบอย", "เสาตีนช้าง", "ขอบคันหิน", "แผ่นปูทางเท้า", "เสาเข็มไอ"],
            },
            grid: {
                left: "8px",
                right: "8px",
                bottom: "0",
                containLabel: true,
            },
            tooltip: {
                show: true,
                backgroundColor: "rgba(0, 0, 0, .8)",
            },
            xAxis: [{
                type: "category",
                data: [
                    "ม.ค.",
                    "ก.พ.",
                    "มี.ค.",
                    "ม.ย.",
                    "พ.ค.",
                    "มิ.ย.",
                    "ก.ค.",
                    "ส.ค.",
                    "ก.ย.",
                    "ต.ค.",
                    "พ.ย.",
                    "ธ.ค.",
                ],
                axisTick: {
                    alignWithLabel: true,
                },
                splitLine: {
                    show: false,
                },
                axisLine: {
                    show: true,
                },
            }, ],
            yAxis: [{
                type: "value",
                axisLabel: {
                    formatter: "฿{value}",
                },
                min: 0,
                max: 1000000,
                interval: 100000,
                axisLine: {
                    show: false,
                },
                splitLine: {
                    show: true,
                    interval: "auto",
                },
            }, ],
            series: [{
                    name: "แผ่นพื้นสำเร็จรูป",
                    data: [
                        134862,
                        542316,
                        338524,
                        115234,
                        752341,
                        264851,
                        145962,
                        856425,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#360167",
                    },
                    type: "bar",
                    barGap: 0,
                    color: "#8b5cf6",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
                {
                    name: "เสารั้วลวดหนาม",
                    data: [
                        682412,
                        152346,
                        956241,
                        542135,
                        625541,
                        365492,
                        258974,
                        512642,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#639",
                    },
                    type: "bar",
                    color: "#6B0772",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
                {
                    name: "รั้วคาวบอย",
                    data: [
                        25643,
                        152436,
                        99854,
                        72354,
                        63254,
                        123854,
                        65210,
                        54235,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#639",
                    },
                    type: "bar",
                    color: "#AF1281",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
                {
                    name: "เสาตีนช้าง",
                    data: [
                        15643,
                        56827,
                        35246,
                        56234,
                        52461,
                        95246,
                        25375,
                        25678,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#639",
                    },
                    type: "bar",
                    color: "#CF268A",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
                {
                    name: "ขอบคันหิน",
                    data: [
                        1540,
                        9537,
                        6524,
                        500,
                        5684,
                        10251,
                        5264,
                        9534,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#639",
                    },
                    type: "bar",
                    color: "#E65C9C",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
                {
                    name: "แผ่นปูทางเท้า",
                    data: [
                        23546,
                        45216,
                        23846,
                        9012,
                        26485,
                        9546,
                        53264,
                        52642,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#639",
                    },
                    type: "bar",
                    color: "#FB8CAB",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
                {
                    name: "เสาเข็มไอ",
                    data: [
                        26485,
                        152643,
                        54681,
                        95346,
                        56854,
                        35426,
                        85461,
                        52641,
                        0,
                        0,
                        0,
                        0,
                    ],
                    label: {
                        show: false,
                        color: "#639",
                    },
                    type: "bar",
                    color: "#DDD6FE",
                    smooth: true,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowOffsetY: -2,
                            shadowColor: "rgba(0, 0, 0, 0.3)",
                        },
                    },
                },
            ],
        });
        $(window).on("resize", function() {
            setTimeout(function() {
                echartBar.resize();
            }, 500);
        });
    }
    // Chart in Dashboard version 1

    var echartElemPie = document.getElementById("echartPiex");

    if (echartElemPie) {
        var echartPie = echarts.init(echartElemPie);
        echartPie.setOption({
            color: ["#62549c", "#7566b5", "#7d6cbb", "#8877bd", "#9181bd", "#6957af"],
            tooltip: {
                show: true,
                backgroundColor: "rgba(0, 0, 0, .8)",
            },
            series: [{
                name: "Sales by Country",
                type: "pie",
                radius: "60%",
                center: ["50%", "50%"],
                data: [{
                        value: 500000,
                        name: "เสารั้วลวดหนาม",
                    },
                    {
                        value: 300000,
                        name: "แผ่นพื้นสำเร็จรูป",
                    },
                    {
                        value: 50000,
                        name: "เสารั้วคาวบอย",
                    },
                    {
                        value: 15000,
                        name: "เสาตีนช้าง",
                    },
                    {
                        value: 20000,
                        name: "เสาเข็มไอ",
                    },
                    {
                        value: 5000,
                        name: "	กิ๊บล็อคลวดหนาม",
                    },
                    {
                        value: 4000,
                        name: "ลวดหนาม",
                    },
                    {
                        value: 12500,
                        name: "ค่าขนส่งสินค้า",
                    },
                ],
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: "rgba(0, 0, 0, 0.5)",
                    },
                },
            }, ],
        });
        $(window).on("resize", function() {
            setTimeout(function() {
                echartPie.resize();
            }, 500);
        });
    } // Chart in Dashboard version 1

    var echartElem1 = document.getElementById("echart1x");

    if (echartElem1) {
        var echart1 = echarts.init(echartElem1);
        echart1.setOption(
            _objectSpread({},
                echartOptions.lineFullWidth, {}, {
                    series: [
                        _objectSpread({
                                data: [30, 40, 20, 50, 40, 80, 90],
                            },
                            echartOptions.smoothLine, {
                                markArea: {
                                    label: {
                                        show: true,
                                    },
                                },
                                areaStyle: {
                                    color: "rgba(102, 51, 153, .2)",
                                    origin: "start",
                                },
                                lineStyle: {
                                    color: "#8B5CF6",
                                },
                                itemStyle: {
                                    color: "#8B5CF6",
                                },
                            }
                        ),
                    ],
                }
            )
        );
        $(window).on("resize", function() {
            setTimeout(function() {
                echart1.resize();
            }, 500);
        });
    } // Chart in Dashboard version 1

    var echartElem2 = document.getElementById("echart2x");

    if (echartElem2) {
        var echart2 = echarts.init(echartElem2);
        echart2.setOption(
            _objectSpread({},
                echartOptions.lineFullWidth, {}, {
                    series: [
                        _objectSpread({
                                data: [30, 10, 40, 10, 40, 20, 90],
                            },
                            echartOptions.smoothLine, {
                                markArea: {
                                    label: {
                                        show: true,
                                    },
                                },
                                areaStyle: {
                                    color: "rgba(255, 193, 7, 0.2)",
                                    origin: "start",
                                },
                                lineStyle: {
                                    color: "#FFC107",
                                },
                                itemStyle: {
                                    color: "#FFC107",
                                },
                            }
                        ),
                    ],
                }
            )
        );
        $(window).on("resize", function() {
            setTimeout(function() {
                echart2.resize();
            }, 500);
        });
    } // Chart in Dashboard version 1

    var echartElem3 = document.getElementById("echart3x");

    if (echartElem3) {
        var echart3 = echarts.init(echartElem3);
        echart3.setOption(
            _objectSpread({},
                echartOptions.lineNoAxis, {}, {
                    series: [{
                        data: [
                            132538.03,
                            96392.00,
                            40862.23,
                            153829.90,
                            150329.00,
                            90328.34,
                            219423.00,
                            39429.00,
                            29073.93,
                            10934.20,
                            29403.23,
                            392843.00,
                            432954.00,
                            296438.00,
                            593201.00,
                            604329.00,
                            294305.00,
                            402186.00,
                            395428.00,
                            692384.00,
                            29403.23,
                            392843.00,
                            432954.00,
                            296438.00,
                            593201.00,
                            604329.00,
                            294305.00,
                            402186.00,
                            395428.00,
                            692384.00,
                        ],
                        lineStyle: _objectSpread({
                                color: "rgba(102, 51, 153, 0.8)",
                                width: 3,
                            },
                            echartOptions.lineShadow
                        ),
                        label: {
                            show: true,
                            color: "#212121",
                        },
                        type: "line",
                        smooth: true,
                        itemStyle: {
                            borderColor: "rgba(102, 51, 153, 1)",
                        },
                    }, ],
                }
            )
        );
        $(window).on("resize", function() {
            setTimeout(function() {
                echart3.resize();
            }, 500);
        });
    }
});